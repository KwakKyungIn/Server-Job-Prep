# ⚙️ Chapter 13. 멀티프로세서 스케줄링 (Multiprocessor Scheduling)

멀티코어 환경에서는 기존 스케줄링 알고리즘을 그대로 쓸 수 없다.  
이 장에서는 **멀티코어 시스템에서의 스케줄링 전략**, 그에 따른 **캐시 친화성**과 **확장성 문제**를 다룬다.

---

## ✅ 멀티프로세서 문제

| 문제 | 설명 |
|------|------|
| 확장성 | 큐 접근 시 락 경합 증가 |
| 캐시 친화성 | 프로세스가 CPU를 자주 바꾸면 성능 저하 |
| 동기화 오버헤드 | 멀티코어 간 데이터 일관성 유지가 비용 큼 |

---

## ✅ SQMS (Single Queue Multiprocessor Scheduling)

- **모든 CPU가 하나의 공유 큐**에서 작업을 선택
- 장점: 단순한 구현
- 단점: 락 경합 심하고, 캐시 친화성 저하

---

## ✅ MQMS (Multi-Queue Multiprocessor Scheduling)

- **CPU마다 독립된 스케줄링 큐**를 가짐
- 장점: 동기화 최소화, 캐시 친화성 향상
- 단점: **로드 불균형 문제** 발생 가능 → 주기적 balancing 필요

---

## 💡 Linux의 방식

- 현대 리눅스는 MQMS 기반으로 작동
- **CPU 친화성(Affinity)** 유지하면서도, **load balancing thread**를 통해 부하를 균등화

---

## 🎯 요약

| 항목 | SQMS | MQMS |
|------|------|------|
| 구조 | 공유 큐 | 다중 큐 |
| 확장성 | 낮음 | 높음 |
| 캐시 친화성 | 나쁨 | 좋음 |
| 구현 난이도 | 쉬움 | 어려움 |

---

> 📚 출처: 『OSTEP Chapter 13 – 멀티프로세서 스케줄링』
